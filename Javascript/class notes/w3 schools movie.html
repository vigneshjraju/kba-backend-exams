<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <style>
    
        .High-Priority {
            color:red
        }

        .Medium-Priority{
            color:yellow
        }

        .Low-Priority{
            color:green
        }

        .watched{
            color:grey;
            text-decoration: line-through;
        }
        



    </style>
    

</head>
<body>
    
    <div class="text-center">


        <p class="text-xl font-bold">Movie Playlist</p>
        <p class="font-bold">
            Movie Name:
        </p>

        <input type="text" id="movie" placeholder="Enter a Movie Name" class="border-2">

        <p class="font-bold">
            Priority
        </p>
        <input type="number" id="priority" placeholder="Enter Priority (1-3)" class="border-2">
        <br><br>
        <button onclick="addmovies()" class="border-2 border-black bg-blue-300">Add Movies</button>

        <div id="display" class="list-none border-2 border-black">
            <ul class="ml-32" id="moviesprio"></ul>
        </div>



    </div>


    <script>

        movies=[];
        priorities=[];

        function addmovies(){


            if(!movie){
                alert("Movie name cannot be empty")
                return
            }

            if(!priority || priority<1 || priority>3){
                alert("Enter a Priority number")
                return
            }

            movie1=document.getElementById("movie").value
            movies.push(movie1);

            priorities1=parseInt(document.getElementById("priority").value)
            priorities.push(priorities1)

            moviespriority=document.getElementById("moviesprio")
            listitem=document.createElement("li")
             listitem.textContent=`${movie1} Priority:${priorities1}`

            if (priorities1===1){
                listitem.classList.add("High-Priority")
            }

            else if (priorities1===2){
                listitem.classList.add("Medium-Priority")
            }

            else if (priorities1===3){
                listitem.classList.add("Low-Priority")
            }

            buttonsw=document.createElement("button");
            buttonsw.textContent="Watched"
            buttonsw.className="ml-4 bg-blue-500 text-white border-2 border-black"
            buttonsw.addEventListener("click",()=>{
                listitem.classList.add("watched")
            })

            buttonse=document.createElement("button");
            buttonse.textContent="Edit"
            buttonse.className="ml-4 bg-blue-500 text-white border-2 border-black"
            buttonse.addEventListener("click",()=>{
                const newmovie=prompt("Enter a new movie name",movie1)
                const newpriority=parseInt(prompt("Enter a new priority",priorities1))

                if(!newmovie){
                alert("Movie name cannot be empty")
                return
                }

                if(!newpriority || newpriority<1 || newpriority>3){
                alert("Enter a Priority number")
                return
                }

                listitem.textContent=`${newName} (Priority: ${newPriority})`;

                movies[movies.indexOf(movie1)]=newmovie
                priorities[movies.indexOf(newmovie)]=newpriority

                if (newpriority===1){
                    listitem.classList.add("High-Priority")
                }

                if (newpriority===2){
                    listitem.classList.add("Medium-Priority")
                }

                if (newpriority===3){
                    listitem.classList.add("Low-Priority")
                }

                
            }
            
        )

        listitem.append(buttonse)
        listitem.appendChild(buttonsw)
        moviespriority.appendChild(listitem)





        }


    </script>

</body>
</html>